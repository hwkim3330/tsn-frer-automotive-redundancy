# TSN Switch의 FRER 기능을 이용한 자동차 아키텍처 이중화 기술 및 성능 평가

**2025 KSAE 춘계학술대회**  
**발표자**: 김현우, 박사님  
**일시**: 2025년 5월  

---

## 슬라이드 1: 제목 슬라이드

# TSN Switch의 FRER 기능을 이용한 자동차 아키텍처 이중화 기술 및 성능 평가

**Performance Evaluation of Automotive Architecture Redundancy Technology Using TSN Switch FRER Function**

김현우, 박사님  
[소속 기관명]

2025 KSAE 춘계학술대회

---

## 슬라이드 2: 연구 배경

### 자동차 네트워크의 진화

- **기존 문제점**
  - CAN/CAN-FD: 낮은 대역폭 (최대 8Mbps)
  - 실시간성 및 신뢰성 한계
  - 안전 크리티컬 시스템 요구사항 증가

- **새로운 요구사항**
  - 자율주행: 대용량 센서 데이터 처리
  - ADAS: 실시간 안전 제어
  - 전동화: 고신뢰성 통신

### TSN 기술의 필요성
- 기가비트 이더넷 기반
- 실시간성 보장 (Time-Sensitive)
- 신뢰성 향상 (FRER)

---

## 슬라이드 3: TSN FRER 기술 개요

### IEEE 802.1CB Frame Replication and Elimination for Reliability

```
송신단 (SGF)                    수신단 (SRF)
┌─────────┐                    ┌─────────┐
│ 원본    │ ── 복제 ──→ Path A ──→ │         │
│ 프레임  │              ↘     ↗ │  중복   │ ── 원본 프레임
│         │               Path B  │  제거   │
└─────────┘                    └─────────┘
```

### 핵심 기능
- **SGF (Sequence Generation Function)**: 프레임 복제 및 순서번호 할당
- **SRF (Sequence Recovery Function)**: 중복 프레임 검출 및 제거
- **다중 경로**: 독립적인 전송 경로를 통한 이중화

---

## 슬라이드 4: 실험 환경 구성

### 하드웨어 플랫폼

#### TSN Switch: Microchip LAN9662
- ARM Cortex-A7 600MHz
- 8포트 기가비트 이더넷
- IEEE 802.1CB 하드웨어 지원

#### End Device: Raspberry Pi CM4
- ARM Cortex-A72 1.5GHz
- 듀얼 이더넷 인터페이스
- Real-time Linux 커널

### 네트워크 토폴로지
```
[ECU-A] ←→ [Switch-1] ←→ [Switch-3] ←→ [ECU-C]
   ↓           ↓            ↑           ↑
[ECU-B] ←→ [Switch-2] ←─────┘        [ECU-D]
```

---

## 슬라이드 5: 실험 방법론

### 성능 측정 항목

1. **신뢰성**
   - 패킷 손실률
   - 장애 복구 시간
   - 시스템 가용성

2. **실시간성**
   - 종단간 지연시간
   - 지터 (Jitter)
   - 우선순위별 성능

3. **효율성**
   - 처리량 (Throughput)
   - CPU/메모리 사용률
   - 대역폭 오버헤드

### 테스트 시나리오
- 정상 상태 성능 측정
- 링크 장애 시뮬레이션
- 트래픽 부하 변화 분석

---

## 슬라이드 6: 실험 결과 - 신뢰성

### 패킷 손실률 비교

| 상태 | 구성 | 패킷 손실률 | 개선도 |
|------|------|-------------|--------|
| 정상 | 단일 경로 | 0.001% | - |
| 정상 | FRER 이중화 | 0.0001% | **10배 개선** |
| 장애 | 단일 경로 | 15.2% | - |
| 장애 | FRER 이중화 | 0.02% | **760배 개선** |

### 장애 복구 성능
- **기존**: 2.3초 → **FRER**: 0.05초 (**46배 단축**)
- **가용성**: 84.8% → 99.98% (**대폭 향상**)

---

## 슬라이드 7: 실험 결과 - 실시간성

### 지연시간 특성

```
지연시간 분포 (FRER 적용)
    빈도
     ↑
 400 |     ●
 300 |   ● ● ●
 200 | ● ● ● ● ●
 100 |● ● ● ● ● ●
   0 +─────────────→ 지연시간(μs)
     0  200 400 600 800
```

### 통계 분석
- **평균 지연시간**: 230μs (15% 증가)
- **95% percentile**: 310μs
- **최대 지연시간**: 890μs
- **표준편차**: 45μs

---

## 슬라이드 8: 실험 결과 - 처리량

### 대역폭 사용률

| 트래픽 타입 | FRER OFF | FRER ON | 증가율 |
|-------------|----------|---------|--------|
| 제어 메시지 | 0.8Mbps | 1.6Mbps | +100% |
| 진단 메시지 | 5.2Mbps | 10.4Mbps | +100% |
| 멀티미디어 | 850Mbps | 850Mbps | 0% |
| **전체** | **856Mbps** | **862Mbps** | **+0.7%** |

### 시스템 리소스 사용률
- **CPU 사용률**: +3% (15% → 18%)
- **메모리 사용량**: +15% (580MB → 620MB)

---

## 슬라이드 9: 자동차 적용성 평가

### ISO 26262 요구사항 만족도

| 요구사항 | 목표값 | 측정값 | 만족여부 |
|----------|--------|--------|----------|
| 패킷 손실률 | <10⁻⁶ | 2×10⁻⁷ | ✓ |
| 지연시간 | <1ms | 0.23ms | ✓ |
| 가용성 | >99.9% | 99.98% | ✓ |
| 장애 복구시간 | <100ms | 50ms | ✓ |

### 실제 시나리오 적용

**자율주행 센서 퓨전**
- 요구사항: 10ms 이내 데이터 전달
- 측정값: 평균 2.3ms, 최대 4.8ms ✓

**브레이크 바이 와이어**
- 요구사항: 5ms 이내 제어 신호
- 측정값: 평균 0.8ms, 최대 1.2ms ✓

---

## 슬라이드 10: 성능 분석 요약

### FRER 기능의 효과

#### ✅ 장점
- **신뢰성 대폭 향상**: 패킷 손실률 10~760배 개선
- **빠른 장애 복구**: 복구 시간 46배 단축
- **실시간성 만족**: 1ms 이내 지연시간 달성
- **표준 준수**: IEEE 802.1CB 완전 호환

#### ⚠️ 트레이드오프
- **지연시간 증가**: 평균 15% 증가 (허용 범위)
- **대역폭 오버헤드**: 안전 트래픽 2배 사용
- **시스템 복잡성**: 설정 및 관리 복잡성 증가

---

## 슬라이드 11: 기술적 기여 및 의의

### 학술적 기여
1. **실증적 성능 데이터**: 실제 하드웨어 환경 검증
2. **자동차 특화 분석**: ISO 26262 관점 평가
3. **벤치마크 제공**: TSN 설계 기준 마련

### 산업적 파급효과
1. **표준 기반 솔루션**: 국제 표준 준수
2. **안전성 향상**: 자율주행차 신뢰성 강화
3. **기술 경쟁력**: 차세대 자동차 이더넷 선도

### 실용적 가치
- 실제 자동차 시스템 적용 가능한 성능 입증
- 하드웨어 플랫폼별 구현 방법론 제시
- 비용 대비 효과적인 이중화 솔루션

---

## 슬라이드 12: 향후 연구 방향

### 단기 연구 과제
1. **대규모 네트워크**: 실제 자동차 규모 (50+ ECU) 검증
2. **혼합 환경**: TSN과 비TSN 트래픽 공존 분석
3. **적응형 제어**: AI 기반 동적 파라미터 최적화

### 중장기 연구 과제
1. **보안 연계**: IEEE 802.1AE MACsec와의 통합
2. **V2X 연동**: 차량-인프라 통신과의 융합
3. **클라우드 확장**: 엣지 컴퓨팅 환경 지원

### 표준화 기여
- IEEE 802.1CB 개선사항 제안
- Automotive Ethernet 표준 발전
- 국내 TSN 생태계 구축

---

## 슬라이드 13: 결론

### 연구 성과 요약

🎯 **목표 달성**
- TSN FRER 기능의 자동차 적용성 입증
- 정량적 성능 평가 및 벤치마크 제공
- 실용적 구현 방법론 개발

📊 **핵심 결과**
- 신뢰성: 패킷 손실률 99% 이상 개선
- 실시간성: 1ms 이내 지연시간 보장
- 효율성: 최소한의 오버헤드로 이중화 구현

🚀 **기대 효과**
- 자율주행차 안전성 혁신적 향상
- 차세대 자동차 네트워크 기술 리더십
- 국내 자동차 산업 경쟁력 강화

### 최종 메시지
**TSN FRER 기술은 차세대 자동차의 안전 크리티컬 통신 인프라를 위한 핵심 솔루션입니다.**

---

## 슬라이드 14: Q&A

# 질의응답

### 예상 질문 및 답변 준비

**Q1**: FRER 기능 적용시 비용은 얼마나 증가하나요?
**A1**: 하드웨어적으로는 TSN 지원 스위치 필요하지만, 소프트웨어 오버헤드는 CPU 3%, 메모리 15% 수준으로 허용 가능합니다.

**Q2**: 기존 CAN 네트워크와의 호환성은?
**A2**: TSN은 이더넷 기반이므로 직접 호환은 불가하지만, 게이트웨이를 통한 연동이 가능합니다.

**Q3**: 실제 차량 적용시 고려사항은?
**A3**: EMC, 온도, 진동 등 자동차 환경 조건과 ASIL 등급별 요구사항을 고려한 설계가 필요합니다.

---

**감사합니다**

김현우 (hwkim3330@gmail.com)  
GitHub: https://github.com/hwkim3330/tsn-frer-automotive-redundancy