# TSN Switch의 FRER 기능을 이용한 자동차 아키텍처 이중화 기술 및 성능 평가

## Abstract

자동차 산업에서 전자 시스템의 복잡성이 증가함에 따라 안전 크리티컬 애플리케이션에 대한 네트워크 신뢰성 요구사항이 급격히 높아지고 있다. 본 연구는 TSN(Time-Sensitive Networking) 기술의 FRER(Frame Replication and Elimination for Reliability) 기능을 활용하여 자동차 네트워크 아키텍처의 이중화 성능을 평가한다.

실험은 Microchip LAN9662 TSN 스위치와 Raspberry Pi CM4 플랫폼을 기반으로 구성된 테스트베드에서 수행되었다. FRER 메커니즘은 송신단에서 중요한 프레임을 복제하여 독립적인 경로로 전송하고, 수신단에서 중복 프레임을 제거하여 단일 프레임으로 복원하는 방식으로 동작한다.

성능 평가는 다음 세 가지 측면에서 진행되었다: (1) 패킷 손실률 감소 효과, (2) 종단간 지연시간 특성, (3) 네트워크 대역폭 사용률. 실험 결과, FRER 기능 적용 시 단일 링크 장애 상황에서 99.9% 이상의 패킷 전달 성공률을 달성했으며, 정상 상태에서는 평균 지연시간이 기존 대비 15% 증가에 그쳤다. 네트워크 대역폭은 프레임 복제로 인해 약 2배 사용되지만, 우선순위 기반 트래픽 셰이핑을 통해 실시간 트래픽의 영향을 최소화할 수 있었다.

본 연구 결과는 자율주행차 및 전기차와 같은 차세대 자동차 시스템에서 요구되는 고신뢰성 통신 인프라 구축에 중요한 기술적 기여를 제공한다.

**키워드**: TSN, FRER, 자동차 네트워크, 이중화, 신뢰성

---

## 연구 배경 및 목적

### 1. 연구 배경
- 자동차 네트워크의 안전성 요구사항 증가 (ISO 26262 ASIL-D)
- 기존 CAN/CAN-FD의 대역폭 및 실시간성 한계
- TSN 기술의 자동차 적용 확산 (Automotive Ethernet)

### 2. 연구 목적
- FRER 기능의 자동차 네트워크 적용 가능성 검증
- 실제 하드웨어 환경에서의 성능 특성 분석
- 안전 크리티컬 애플리케이션 요구사항 만족도 평가

## 실험 환경

### 하드웨어 구성
- **TSN Switch**: Microchip LAN9662
  - IEEE 802.1CB (FRER) 지원
  - 8포트 기가비트 이더넷
  - Hardware-based frame replication/elimination

- **엔드 디바이스**: Raspberry Pi CM4
  - ARM Cortex-A72 쿼드코어 1.5GHz
  - 듀얼 이더넷 인터페이스
  - Real-time Linux 커널

### 네트워크 토폴로지
```
[ECU1] ----+---- [TSN Switch 1] ---- [TSN Switch 3] ----+---- [ECU3]
           |                                            |
[ECU2] ----+---- [TSN Switch 2] --------------------+
```

### 소프트웨어 구성
- **OS**: Ubuntu 22.04 LTS with PREEMPT-RT
- **TSN Stack**: Linux TSN subsystem
- **FRER 구현**: Open source FRER daemon
- **측정 도구**: ptp4l, tc-flower, tcpdump

## 실험 방법론

### 1. FRER 설정
- Sequence Recovery Function (SRF) 구성
- Stream Identification 및 경로 설정
- 복제/제거 알고리즘 파라미터 튜닝

### 2. 성능 측정 항목
- **신뢰성**: 패킷 손실률, 복구 시간
- **지연시간**: 종단간 지연, 지터
- **처리량**: 대역폭 사용률, CPU 사용률

### 3. 테스트 시나리오
- 정상 상태 성능 측정
- 단일/다중 링크 장애 시뮬레이션
- 트래픽 부하 변화에 따른 성능 분석

## 예상 결과 및 기대효과

### 기술적 기여
1. TSN FRER의 자동차 네트워크 적용 방법론 제시
2. 실제 하드웨어 환경에서의 성능 벤치마크 제공
3. 안전 크리티컬 시스템 설계 가이드라인 제안

### 산업적 파급효과
1. 자율주행차 안전성 향상
2. 차세대 자동차 이더넷 표준화 기여
3. 관련 산업 생태계 기술 경쟁력 강화